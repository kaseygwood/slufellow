<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kasey Wood">

<title>Visualizing St.&nbsp;Lawrence University Registration Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="fellow_writeup_files/libs/clipboard/clipboard.min.js"></script>
<script src="fellow_writeup_files/libs/quarto-html/quarto.js"></script>
<script src="fellow_writeup_files/libs/quarto-html/popper.min.js"></script>
<script src="fellow_writeup_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="fellow_writeup_files/libs/quarto-html/anchor.min.js"></script>
<link href="fellow_writeup_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="fellow_writeup_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="fellow_writeup_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="fellow_writeup_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="fellow_writeup_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Visualizing St.&nbsp;Lawrence University Registration Data</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Kasey Wood </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="introduction-and-background" class="level2">
<h2 class="anchored" data-anchor-id="introduction-and-background">Introduction and Background</h2>
<p>St.&nbsp;Lawrence University is a private institution located in Canton, NY. With around 2,250 students enrolled on campus each year, there are many disciplines, course options, and routes to take for new students. Students may meet with their advisers to help guide them on the correct path of courses, or they may choose to guide themselves. Every student goes through the registration process themselves, however. And every professor is on the receiving end of that registration process. At St.&nbsp;Lawrence there are three days of registration for students. On the first day a student may choose their first class, then they may choose their second on the second day, and lastly on the third day the student may choose their last two classes and any lab they may want to take. Professors often put caps on their courses depending on the course and/or the classroom they will be in for that course. This leaves students with one of the most daunting questions, which course do I choose first?</p>
</section>
<section id="app-graphics-static-versions" class="level2">
<h2 class="anchored" data-anchor-id="app-graphics-static-versions">App Graphics (Static Versions)</h2>
<section id="notes-about-the-data" class="level3">
<h3 class="anchored" data-anchor-id="notes-about-the-data">Notes about the Data</h3>
<ul>
<li>Cross-listed course enrollment refers to the combined total enrollment of all cross-listed courses.</li>
<li>COVID-19 section numbers are off, therefore there are options to omit seeing these years on the graphics within the app. These years will be included in the graphs shown below.</li>
</ul>
</section>
<section id="enrollment-by-course" class="level3">
<h3 class="anchored" data-anchor-id="enrollment-by-course">Enrollment by Course</h3>
<div class="cell">
<div class="cell-output-display">
<p><img src="fellow_writeup_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This is a static version of a graphic displayed in the shiny app. In the app, the user can choose to look at this graphic by semester or by year for the x- variable. In addition the user is able to use the graph settings button to omit covid years for both the year and semester graphs. If the user chooses the semester time frame, then settings to view sections on the graph are displayed. The graphic above shows a semester time frame, with the sections marked and labeled, for STAT-113: Applied Statistics.</p>
</section>
<section id="enrollment-by-discipline" class="level3">
<h3 class="anchored" data-anchor-id="enrollment-by-discipline">Enrollment by Discipline</h3>
<div class="cell">
<div class="cell-output-display">
<p><img src="fellow_writeup_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The enrollment by discipline graphic displays enrollment by year from 2014-2022. The graphic above displays the total enrollment for math courses by course level. The data being used in this plot does not include SYE courses (these courses are often independent and have low enrollment), therefore the level four courses are not pictured.</p>
</section>
<section id="course-capacity" class="level3">
<h3 class="anchored" data-anchor-id="course-capacity">Course Capacity</h3>
<div class="cell">
<div class="cell-output-display">
<p><img src="fellow_writeup_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This graph depicts the course enrollment on top of the course capacity to better visualize open seats in courses. Red bars represent either full or overfilled courses.</p>
</section>
</section>
<section id="appendix" class="level2">
<h2 class="anchored" data-anchor-id="appendix">Appendix</h2>
<section id="tidying-the-data" class="level3">
<h3 class="anchored" data-anchor-id="tidying-the-data">Tidying the Data</h3>
<p>The St.&nbsp;Lawrence Registration data ranges from 2014 to 2022 and contains 61 variables.</p>
<p>Example of the beginning dataset:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 61
  `Acad Year Term` `Reporting Year` `Course Key` `Course ID` `Course Section ID`
  &lt;chr&gt;                       &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;              
1 2014FA                       2014 2014FA-AAH-… 1928        459                
2 2014FA                       2014 2014FA-AAH-… 1928        460                
3 2015FA                       2015 2015FA-AAH-… 1928        3516               
4 2015FA                       2015 2015FA-AAH-… 1928        3517               
5 2016FA                       2016 2016FA-AAH-… 1928        7994               
6 2016FA                       2016 2016FA-AAH-… 1928        7995               
# ℹ 56 more variables: `Course Section Name` &lt;chr&gt;, `Course Name` &lt;chr&gt;,
#   Subject &lt;chr&gt;, `Course Number` &lt;chr&gt;, `Section Number` &lt;chr&gt;,
#   `Course Title` &lt;chr&gt;, Credits &lt;dbl&gt;, `xlist Primary Course` &lt;chr&gt;,
#   `xlist Section1` &lt;chr&gt;, `xlist Section2` &lt;chr&gt;, `xlist Section3` &lt;chr&gt;,
#   `xlist Section4` &lt;lgl&gt;, Enrolled &lt;dbl&gt;, Instructor1 &lt;chr&gt;,
#   Instructor2 &lt;chr&gt;, Instructor3 &lt;lgl&gt;, Instructor4 &lt;lgl&gt;,
#   `Course Level1` &lt;chr&gt;, `Course Level Desc1` &lt;chr&gt;, `Course Level2` &lt;chr&gt;, …</code></pre>
</div>
</div>
<p>This data set did not include the course capacity, however we recieved this data from a separate data set as shown:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  `Section ID` `Section Name` `Section Number` `Section Capacity` ...5 
  &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;                         &lt;dbl&gt; &lt;lgl&gt;
1 6            SOC-101-01     01                               30 NA   
2 8            SOC-101-02     02                               29 NA   
3 9            SOC-112-01     01                               30 NA   
4 10           SOC-161-01     01                               30 NA   
5 11           SOC-187-01     01                               30 NA   
6 12           ENVS-187-01    01                               30 NA   </code></pre>
</div>
</div>
<p>I then joined these two datasets using a left_join and using the course section id as the key.</p>
<p>In order to wrangle to dataset to be more usable for visualizations, the full data set was trimmed down to key variables. These key variables include Acad Year Term, Reporting Year, Course ID, Course Name, Subject, Course Number, Course Title, Enrolled, xlist variables, Section Number, and Section Capacity.</p>
<p>Once the dataset was more readable, the first issue to address was the xlisted courses. In the original data set cross listed courses only show enrollment for whichever version the student signed up for. For example… When looking at courses in the app, the user will want to see what the full enrollment for a course is, so having the cross-listed courses only list partial enrollment was an issue. The goal was to make cross-listed course enrollment refer to the combined total enrollment of all cross-listed courses. In order to accomplish this I first split the data set up, so I could deal with the cross-listed and non-xlisted courses separately.</p>
<p>The code used to fix this is below.</p>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>course_reg_xlist <span class="ot">&lt;-</span> course_reg_data <span class="sc">|&gt;</span> <span class="fu">drop_na</span>(<span class="st">`</span><span class="at">xlist Section1</span><span class="st">`</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>course_reg_xlist <span class="ot">&lt;-</span> course_reg_xlist <span class="sc">|&gt;</span> <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Course Title</span><span class="st">`</span>, section, <span class="st">`</span><span class="at">Reporting Year</span><span class="st">`</span>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">enrolled =</span> <span class="fu">sum</span>(Enrolled)) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>Enrolled) <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"Enrolled"</span> <span class="ot">=</span> <span class="st">"enrolled"</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"course"</span>, <span class="fu">c</span>(<span class="st">`</span><span class="at">Course Name</span><span class="st">`</span>, <span class="st">`</span><span class="at">Course Title</span><span class="st">`</span>), <span class="at">sep =</span> <span class="st">": "</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>course_reg_noxlist <span class="ot">&lt;-</span> course_reg_data <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(<span class="st">`</span><span class="at">xlist Section1</span><span class="st">`</span>)) <span class="sc">|&gt;</span> <span class="fu">unite</span>(<span class="st">"course"</span>, <span class="fu">c</span>(<span class="st">`</span><span class="at">Course Name</span><span class="st">`</span>, <span class="st">`</span><span class="at">Course Title</span><span class="st">`</span>), <span class="at">sep =</span> <span class="st">": "</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>course_reg_data <span class="ot">&lt;-</span> <span class="fu">full_join</span>(course_reg_xlist, course_reg_noxlist)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>course_reg_data <span class="ot">&lt;-</span> course_reg_data <span class="sc">|&gt;</span> <span class="fu">group_by</span>(course, <span class="st">`</span><span class="at">Reporting Year</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yearly_capacity =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Section Capacity</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>As shown in the code, the data was grouped by course (so every course that was cross-listed is grouped with it’s cross-listed course) and for each year, then added together to get the total enrollment. The mutate function allows that total enrollment to show up for each data point. The non-xlist data set was unchanged except for the course variable that would be used to help unite the data set.</p>
<p>After the dataset had accurate enrollment numbers for how it would be used within the app, the next step was to wrangle the data so there was only one data point for each course every year. This data set needed to include both fall_enrollment and spring_enrollment for that year along with the yearly_enrollment. It also needed to include the enrollment for each section every semester, so a sectioned graph could be made. After this was done by grouping the data in different ways and summing the enrollment for different time periods and sections, the dataset was usable within the app.</p>
<p>The dataset used within the app is shown below:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 48
  course      reporting_year yearly_enrolled fall_enrolled spring_enrolled FA_01
  &lt;chr&gt;                &lt;dbl&gt;           &lt;dbl&gt;         &lt;dbl&gt;           &lt;dbl&gt; &lt;dbl&gt;
1 CS-140: In…           2014             144            72              72    24
2 CS-140: In…           2015             147            75              72    25
3 CS-140: In…           2016             149            77              72    25
4 CS-140: In…           2017             172            94              78    24
5 CS-140: In…           2018             190           120              70    25
6 CS-140: In…           2019             150            89              61    25
# ℹ 42 more variables: FA_02 &lt;dbl&gt;, FA_03 &lt;dbl&gt;, FA_04 &lt;dbl&gt;, FA_05 &lt;dbl&gt;,
#   FA_06 &lt;dbl&gt;, FA_07 &lt;dbl&gt;, FA_08 &lt;dbl&gt;, FA_09 &lt;dbl&gt;, FA_10 &lt;dbl&gt;,
#   SP_01 &lt;dbl&gt;, SP_02 &lt;dbl&gt;, SP_03 &lt;dbl&gt;, SP_04 &lt;dbl&gt;, SP_05 &lt;dbl&gt;,
#   SP_06 &lt;dbl&gt;, SP_07 &lt;dbl&gt;, SP_08 &lt;dbl&gt;, SP_09 &lt;dbl&gt;, SP_11 &lt;dbl&gt;,
#   SP_12 &lt;dbl&gt;, SP_13 &lt;dbl&gt;, SP_14 &lt;dbl&gt;, SP_15 &lt;dbl&gt;, SP_16 &lt;dbl&gt;,
#   SP_18 &lt;dbl&gt;, SP_19 &lt;dbl&gt;, FA_11 &lt;dbl&gt;, FA_12 &lt;dbl&gt;, FA_13 &lt;dbl&gt;,
#   FA_14 &lt;dbl&gt;, FA_15 &lt;dbl&gt;, FA_16 &lt;dbl&gt;, FA_17 &lt;dbl&gt;, FA_20 &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>